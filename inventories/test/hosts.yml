
# HX Infrastructure Test Environment Inventory
# Domain: test.hana-x.ai
# Network: 192.168.20.0/24
# Authentication: agent0 user (agent0@hana-x.ai)

all:
  children:
    # Infrastructure Services Group (Minimal for Testing)
    infrastructure:
      children:
        domain_controllers:
          hosts:
            hx-dc-test-01.test.hana-x.ai:
              ansible_host: 192.168.20.10
              server_role: test_domain_controller
              services: ['active_directory', 'dns']
              os_type: windows_server
              memory_gb: 4
              cpu_cores: 2
    
    # AI/ML Services Group (Core Testing)
    ai_ml:
      children:
        llm_services:
          hosts:
            hx-litellm-test-01.test.hana-x.ai:
              ansible_host: 192.168.20.20
              server_role: litellm_test
              services: ['litellm', 'api_testing', 'model_validation']
              os_type: linux
              memory_gb: 8
              cpu_cores: 4
              gpu_enabled: false  # CPU-only for testing
            
            hx-ollama-test-01.test.hana-x.ai:
              ansible_host: 192.168.20.21
              server_role: ollama_test
              services: ['ollama', 'model_testing', 'performance_testing']
              os_type: linux
              memory_gb: 16
              cpu_cores: 8
              gpu_enabled: false  # CPU-only for testing
    
    # UI Services Group (Testing Interface)
    ui:
      children:
        web_interfaces:
          hosts:
            hx-webui-test-01.test.hana-x.ai:
              ansible_host: 192.168.20.30
              server_role: webui_test
              services: ['chat_interface', 'ui_testing', 'integration_testing']
              os_type: linux
              memory_gb: 4
              cpu_cores: 2
        
        load_balancers:
          hosts:
            hx-lb-test-01.test.hana-x.ai:
              ansible_host: 192.168.20.31
              server_role: test_load_balancer
              services: ['nginx', 'ssl_testing', 'traffic_simulation']
              os_type: linux
              memory_gb: 2
              cpu_cores: 1
              vip_address: 192.168.20.100
    
    # Operations Services Group (Essential Testing)
    operations:
      children:
        databases:
          hosts:
            hx-db-test-01.test.hana-x.ai:
              ansible_host: 192.168.20.40
              server_role: postgresql_test
              services: ['postgresql', 'test_data', 'schema_validation']
              os_type: linux
              memory_gb: 8
              cpu_cores: 4
              storage_gb: 100
              postgresql_role: standalone
        
        cache_services:
          hosts:
            hx-redis-test-01.test.hana-x.ai:
              ansible_host: 192.168.20.41
              server_role: redis_test
              services: ['redis', 'cache_testing', 'performance_testing']
              os_type: linux
              memory_gb: 4
              cpu_cores: 2
              redis_role: standalone
        
        monitoring:
          hosts:
            hx-monitor-test-01.test.hana-x.ai:
              ansible_host: 192.168.20.50
              server_role: test_monitoring
              services: ['prometheus', 'grafana', 'test_metrics']
              os_type: linux
              memory_gb: 4
              cpu_cores: 2
              storage_gb: 50

  vars:
    # Global Test Environment Variables
    environment: test
    domain_name: test.hana-x.ai
    network_subnet: 192.168.20.0/24
    
    # Authentication Configuration
    ansible_user: agent0
    ansible_ssh_user: agent0
    admin_email: agent0@hana-x.ai
    
    # SSH Configuration
    ansible_ssh_private_key_file: ~/.ssh/hx_infrastructure_test
    ansible_ssh_common_args: '-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
    
    # Common Service Configuration
    timezone: UTC
    ntp_servers:
      - 0.pool.ntp.org
      - 1.pool.ntp.org
    
    # Security Configuration (Relaxed for Testing)
    firewall_enabled: true
    fail2ban_enabled: false
    automatic_updates: false
    
    # Backup Configuration (Minimal)
    backup_enabled: false
    backup_retention_days: 7
    
    # Monitoring Configuration
    monitoring_enabled: true
    log_level: debug
    metrics_retention_days: 30
    
    # Test Specific Settings
    debug_mode: true
    ssl_verification: false
    test_mode: true
    test_data_enabled: true
    performance_testing: true
    load_testing: true
    
    # Test Data Configuration
    test_users_count: 100
    test_conversations_count: 1000
    test_models:
      - llama3.2:1b
      - phi3:mini
    
    # Testing Timeouts and Limits
    test_timeout_seconds: 300
    max_concurrent_tests: 10
    test_data_cleanup: true

# Service-specific groupings for targeted testing
test_infrastructure:
  children:
    domain_controllers:

test_ai_ml:
  children:
    llm_services:

test_ui:
  children:
    web_interfaces:
    load_balancers:

test_operations:
  children:
    databases:
    cache_services:
    monitoring:

# Platform-specific groupings
linux_test_hosts:
  children:
    ai_ml:
    ui:
    operations:

windows_test_hosts:
  children:
    infrastructure:

# Testing-specific groupings
core_test_services:
  hosts:
    hx-litellm-test-01.test.hana-x.ai:
    hx-ollama-test-01.test.hana-x.ai:
    hx-webui-test-01.test.hana-x.ai:
    hx-db-test-01.test.hana-x.ai:

performance_test_targets:
  hosts:
    hx-litellm-test-01.test.hana-x.ai:
    hx-ollama-test-01.test.hana-x.ai:
    hx-redis-test-01.test.hana-x.ai:

integration_test_targets:
  hosts:
    hx-webui-test-01.test.hana-x.ai:
    hx-lb-test-01.test.hana-x.ai:
    hx-db-test-01.test.hana-x.ai:
