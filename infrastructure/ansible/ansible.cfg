
# HX-Infrastructure Ansible Configuration
# Optimized for infrastructure/ansible project structure
# Administrative User: agent0

[defaults]
# ============================================================================
# INVENTORY AND ENVIRONMENT CONFIGURATION
# ============================================================================
# Multi-environment inventory support
inventory = inventories/dev/hosts.yml
# Alternative inventories can be specified via -i flag or ANSIBLE_INVENTORY
# inventories/staging/hosts.yml, inventories/prod/hosts.yml

# Host and connection settings - SECURITY: Host key checking ENABLED
host_key_checking = true
remote_user = agent0
ask_pass = false
ask_sudo_pass = false

# ============================================================================
# PERFORMANCE OPTIMIZATION
# ============================================================================
# Parallel execution - optimized for infrastructure deployment
forks = 15
serial = 5
poll_interval = 10
timeout = 30
command_timeout = 30
connect_timeout = 30

# Fact gathering optimization
gathering = smart
fact_caching = jsonfile
fact_caching_connection = ~/.cache/ansible/facts
fact_caching_timeout = 3600
gather_subset = !facter,!ohai
gather_timeout = 30

# Task execution optimization
strategy = linear
hash_behaviour = replace

# ============================================================================
# SECURITY AND AUTHENTICATION
# ============================================================================
# Vault configuration for secrets management
vault_password_file = ~/.ansible-vault-pass

# Privilege escalation
become = false
become_method = sudo
become_user = root
become_ask_pass = false

# ============================================================================
# LOGGING AND OUTPUT
# ============================================================================
log_path = ~/.ansible/logs/ansible.log
ansible_managed = "Ansible managed: {file} modified on %Y-%m-%d %H:%M:%S by {uid} on {host}"
display_skipped_hosts = false
display_ok_hosts = true
error_on_undefined_vars = true
deprecation_warnings = false
command_warnings = true

# ============================================================================
# PLUGIN PATHS
# ============================================================================
roles_path = roles
collections_paths = ~/.ansible/collections:/usr/share/ansible/collections
action_plugins = plugins/action
become_plugins = plugins/become
cache_plugins = plugins/cache
callback_plugins = plugins/callback
connection_plugins = plugins/connection
filter_plugins = plugins/filter
inventory_plugins = plugins/inventory
lookup_plugins = plugins/lookup
strategy_plugins = plugins/strategy
vars_plugins = plugins/vars

# ============================================================================
# SSH CONNECTION SETTINGS
# ============================================================================
[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o IdentitiesOnly=yes
pipelining = true
control_path = ~/.ansible/cp/%%h-%%p-%%r
retries = 3
timeout = 10

# ============================================================================
# PARAMIKO CONNECTION SETTINGS
# ============================================================================
[paramiko_connection]
record_host_keys = false
pty = false

# ============================================================================
# PRIVILEGE ESCALATION SETTINGS
# ============================================================================
[privilege_escalation]
become = false
become_method = sudo
become_user = root
become_ask_pass = false

# ============================================================================
# PERSISTENT CONNECTION SETTINGS
# ============================================================================
[persistent_connection]
command_timeout = 30
connect_timeout = 30
connect_retry_timeout = 15
connect_interval = 1
