
[defaults]
# Basic Configuration
inventory = inventories/production/hosts.yml
host_key_checking = False
retry_files_enabled = False
stdout_callback = yaml
bin_ansible_callbacks = True
callback_whitelist = profile_tasks, timer

# Performance Optimization
forks = 50
poll_interval = 15
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts_cache
fact_caching_timeout = 86400
pipelining = True

# Security Configuration
vault_password_file = .vault_pass
vault_encrypt_identity = vault@hanax.ai
ask_vault_pass = False
remote_user = ansible
become = True
become_method = sudo
become_user = root
become_ask_pass = False

# Logging and Output
log_path = /var/log/ansible.log
display_skipped_hosts = False
display_ok_hosts = True
system_warnings = True
deprecation_warnings = True
command_warnings = True
action_warnings = True

# Connection Settings
timeout = 30
remote_tmp = /tmp/.ansible-${USER}/tmp
local_tmp = ~/.ansible/tmp
transport = smart

# Role and Collection Paths
roles_path = roles:~/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles
collections_paths = collections:~/.ansible/collections:/usr/share/ansible/collections
library = library:~/.ansible/plugins/modules:/usr/share/ansible/plugins/modules
module_utils = module_utils:~/.ansible/plugins/module_utils:/usr/share/ansible/plugins/module_utils
action_plugins = action_plugins:~/.ansible/plugins/action:/usr/share/ansible/plugins/action
callback_plugins = callback_plugins:~/.ansible/plugins/callback:/usr/share/ansible/plugins/callback
connection_plugins = connection_plugins:~/.ansible/plugins/connection:/usr/share/ansible/plugins/connection
filter_plugins = filter_plugins:~/.ansible/plugins/filter:/usr/share/ansible/plugins/filter
lookup_plugins = lookup_plugins:~/.ansible/plugins/lookup:/usr/share/ansible/plugins/lookup
vars_plugins = vars_plugins:~/.ansible/plugins/vars:/usr/share/ansible/plugins/vars

[inventory]
enable_plugins = host_list, script, auto, yaml, ini, toml

[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[paramiko_connection]
record_host_keys = False

[ssh_connection]
ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
pipelining = True
control_path_dir = /tmp/.ansible-cp
control_path = /tmp/.ansible-cp/ansible-ssh-%%h-%%p-%%r
scp_if_ssh = smart
transfer_method = smart
retries = 3
