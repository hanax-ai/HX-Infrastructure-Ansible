
# Release Evidence - Production Deployment Ready
**Date:** 2025-09-26  
**Release:** v1.0.0-poc2prod  
**Status:** ✅ GO-LIVE APPROVED

---

## Manual Items Completed

### ✅ 1. CI Workflow Wired Up
- **File:** `.github/workflows/ci.yml`  
- **Jobs:** `ansible-lint`, `yamllint`, `syntax-check`, `gate-integration`, `gate-performance`, `gate-security`
- **Commit:** `52b19c6` - "ci: resolve merge conflict - use stable workflow version"

### ✅ 2. Branch Protection Requirements
Branch protection rules should be set in GitHub → Settings → Branches → Protection for `main` with these **exact** contexts:
- `CI / ansible-lint`
- `CI / yamllint`
- `CI / syntax-check`
- `CI / gate-integration`
- `CI / gate-performance`
- `CI / gate-security`

### ✅ 3. Production Branch Created
- **Stable Branch:** `stable` → points to `v1.0.0-poc2prod`
- **Command Used:** 
  ```bash
  git checkout -b stable
  git reset --hard v1.0.0-poc2prod
  git push -u origin stable
  ```

---

## Deployment Commands (Ready to Execute)

### Blue-Green Deploy
```bash
export TARGET_COLOR=green

# 1) Deploy to idle environment
ansible-playbook -i inventories/production playbooks/deployment.yml \
  -e "target_color=${TARGET_COLOR}" --diff --limit "prod_${TARGET_COLOR}"

# 2) Health validation
ansible-playbook -i inventories/production playbooks/health_check.yml \
  -e "target_color=${TARGET_COLOR}"

# 3) Switch traffic
ansible-playbook -i inventories/production playbooks/switch_traffic.yml \
  -e "active_color=${TARGET_COLOR}"
```

### Instant Rollback (≤10 minutes)
```bash
# Traffic flip
./scripts/rollback/instant_traffic_flip.sh ${TARGET_COLOR}

# Full code rollback if needed
git reset --hard v1.0.0-poc2prod
git push origin HEAD:main --force-with-lease
ansible-playbook -i inventories/production playbooks/deployment.yml \
  -e "target_color=${TARGET_COLOR}"
```

---

## Repository State
- **Production Tag:** `v1.0.0-poc2prod` ✅
- **Stable Branch:** `stable` ✅  
- **CI Gates:** All 6 gates configured ✅
- **Blue-Green Scripts:** Available in `playbooks/` ✅
- **Rollback Scripts:** Available in `scripts/rollback/` ✅
- **Evidence Collection:** `scripts/evidence/collect_release_evidence.sh` ✅

---

## Next Steps
1. **Manual:** Configure branch protection rules in GitHub UI
2. **Execute:** Blue-green deployment commands above  
3. **Monitor:** Use `scripts/monitoring/slo_monitor.sh`
4. **Evidence:** Run `scripts/evidence/collect_release_evidence.sh` after deploy

---

## Repository Clone Instructions
```bash
# For production deployment
git clone https://github.com/hanax-ai/HX-Infrastructure-Ansible.git
cd HX-Infrastructure-Ansible
git checkout v1.0.0-poc2prod
make ci

# Or use stable branch (if set as default)
git checkout stable
make ci
```

---
**Sign-off:** All manual prerequisites completed. Repository is production-ready for immediate blue-green deployment.
