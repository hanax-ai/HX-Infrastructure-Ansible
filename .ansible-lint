
# Ansible Lint Configuration for HX Infrastructure Ansible
# Repo-wide hygiene enforcement with infrastructure/ansible focus

# Project directory for Ansible code
project_dir: infrastructure/ansible

# Profile for production-ready code
profile: production

# Exclude paths that don't need linting
exclude_paths:
  - .git/
  - venv/
  - tmp/
  - __pycache__/
  - .pytest_cache/
  - backup/
  - logs/
  - docs/
  - scripts/
  - evidence/
  - reports/
  - POC-1/
  - "*.pdf"
  - "*.md"
  - molecule/*/cache/
  - .ansible/

# Enable additional rules for security and best practices
enable_list:
  - no-log-password
  - no-jinja-when
  - no-tabs
  - yaml[line-length]
  - yaml[indentation]
  - yaml[trailing-spaces]
  - name[casing]
  - name[template]
  - risky-file-permissions
  - risky-shell-pipe
  - command-instead-of-module
  - command-instead-of-shell
  - deprecated-bare-vars
  - literal-compare
  - no-changed-when
  - no-handler
  - package-latest
  - role-name
  - var-naming
  - fqcn[action-core]
  - fqcn[action]

# Warn on these rules instead of failing (during transition)
warn_list:
  - experimental
  - ignore-errors
  - no-changed-when
  - command-instead-of-shell
  - risky-file-permissions
  - package-latest

# Skip certain rules for specific scenarios
skip_list: []

# Mock modules and roles for testing
mock_modules:
  - community.general.timezone
  - community.crypto.x509_certificate
  - community.docker.docker_container
  - ansible.posix.mount

mock_roles:
  - common
  - backup
  - prometheus_node_exporter
